<head>

    <title>Quick Start - Leaflet</title>

    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico"/>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
          integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
          crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
            integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
            crossorigin=""></script>

    <style type="text/css">
        #mapid {
            min-height: 100%;
            height: 100vh;
            z-index: 0
        }



    </style>


</head>


<h2>Vis4</h2>
<button data-target="#bs-dialog" data-toggle="modal" class="btn pmd-btn-fab pmd-ripple-effect btn-default pull-right"
        type="button">
    <i class="material-icons md-dark pmd-sm">help_outline</i>
</button>
<div tabindex="-1" class="modal fade" id="bs-dialog" style="display: none;" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <p>Info about vis3</p>
            </div>
        </div>
    </div>
</div>
<div class="pmd-card pmd-z-depth">
    <div class="pmd-card-body">
        <form class="row" role="form">
            <div class="col-sm-3">
                <div class="form-group pmd-textfield pmd-textfield-floating-label">
                    <label>Day</label>
                    <select id="day_select" class="select-simple form-control pmd-select2">
                        <option></option>
                        <option value="0">Sunday</option>
                        <option value="1">Monday</option>
                        <option value="2">Tuesday</option>
                        <option value="3">Wednesday</option>
                        <option value="4">Thursday</option>
                        <option value="5">Friday</option>
                        <option value="6">Saturday</option>
                    </select>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group pmd-textfield pmd-textfield-floating-label">
                    <label>Hour</label>
                    <select id="hour_select" class="select-simple form-control pmd-select2">
                        <option></option>
                        <option value="0">00:00</option>
                        <option value="1">01:00</option>
                        <option value="2">02:00</option>
                        <option value="3">03:00</option>
                        <option value="4">04:00</option>
                        <option value="5">05:00</option>
                        <option value="6">06:00</option>
                        <option value="7">07:00</option>
                        <option value="8">08:00</option>
                        <option value="9">09:00</option>
                        <option value="10">10:00</option>
                        <option value="11">11:00</option>
                        <option value="12">12:00</option>
                        <option value="13">13:00</option>
                        <option value="14">14:00</option>
                        <option value="15">15:00</option>
                        <option value="16">16:00</option>
                        <option value="17">17:00</option>
                        <option value="18">18:00</option>
                        <option value="19">19:00</option>
                        <option value="20">20:00</option>
                        <option value="21">21:00</option>
                        <option value="22">22:00</option>
                        <option value="23">23:00</option>
                    </select>
                </div>
            </div>
        </form>
    </div>
</div>

<div class="pmd-card pmd-z-depth">
    <div class="pmd-card-body">
        <form class="row" role="form">
            <div class="col-sm-3">
                <div class="checkbox">
                    <label class="pmd-checkbox pmd-checkbox-ripple-effect">
                        <input value="" id="animate_select" type="checkbox"> Animate
                    </label>
                </div>
            </div>
            <div class="col-sm-7">
                <label class="control">Current Time:
                    <a id="time_view"></a>
                </label>
            </div>
            <div class="col-sm-2">
                <button type="button" id="save_button" class="btn btn-primary pmd-ripple-effect">Save Config</button>
            </div>
        </form>
    </div>
</div>

<div id="mapid"></div>
<script>

	var mymap = L.map('mapid').setView([31.806400, 35.188504], 12);

	L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
		maxZoom: 18,
		attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
			'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
		id: 'mapbox.streets'
	}).addTo(mymap);


    var data = {{{json data_viz}}}
    console.log(data)
    data.data.trips.forEach(function(trip) {
    var latlngs = trip.path.coordinates.map(x => [x[1],x[0]])
    var polyline = L.polyline(latlngs, {color: "rgba(255,0,0,0.01)"}).addTo(mymap);
    })

    // zoom the map to the polyline
    //map.fitBounds(polyline.getBounds());




</script>
